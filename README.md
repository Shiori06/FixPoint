# 株式会社フィックスポイントプログラミング試験

## 設問とファイルの対応
設問1→problem1.py  
設問2→problem2.py  
設問3→problem3.py  
設問4(未完成)→problem4.py  
テストデータ→monitoring.log  

## 実行環境
macOS Catalina 10.15.7  
python 3.9.0

## 実行方法
テストデータとpythonファイルを同じフォルダに置き、コマンドライン上で 
`$python ファイル名.py`
とすることで実行できる。  
設問2以降は設問内容に応じてコマンドライン引数をパラメータとして受け取ることができる。  
指定するパラメータは設問中のN,m,tの順に対応している。  
例  
`$python ファイル名.py 3 2 30`
このときN=3, m=2, t=30となる。  

## 出力のフォーマット
    failure time: 故障期間(hh:mm:ss)  IP address: 故障しているサーバアドレス , start: 故障開始時間(yyyy-mm-dd hh:mm:ss) , end: 故障終了時間(yyyy-mm-dd hh:mm:ss)
    overload condition time: 過負荷状態期間(hh:mm:ss) , IP adress: 過負荷状態のサーバアドレス , start: 過負荷状態開始時間(yyyy-mm-dd hh:mm:ss), end: 過負荷状態終了時間(yyyy-mm-dd hh:mm:ss)
    subnet failure: ネットワークアドレス(2進数) start: サブネット故障開始時間yyyymmddhhmmss

## 仕様と今後の課題
* 設問4で、故障しているサブネットの特定と故障の開始時間までしか終わらなかった。
故障終了の判定が上手くいっておらず、その修正が必要である。
故障しているサブネットのネットワークアドレスが2進数表記のままであるので、10進数に戻す必要がある。
* 平均応答時間を求める際、タイムアウトした行を飛ばして求めている。  
タイムアウトする時間がわかっていれば、それを応答時間として平均応答時間の計算に加えた方が良いかもしれない。 
* 直近m回の平均時間がtミリ秒を超えていたとき、直近m回の内、最も過去のデータの時刻を過負荷状態の期間の開始としている。  
また、tミリ秒以下となったとき、直近m回の内、最も過去のデータの時刻を過負荷状態の期間の終了としている。  
直近m回の中で初めてtミリ秒を超えたとき、tミリ秒以内となったときをそれぞれ開始時間、終了時間とした方が良さそうである。
* 故障期間や過負荷状態などの期間を出力する関係で、期間がテストデータ内で終了していなかった場合に故障等の記録が出力されない問題がある。
期間は算出できなくても、故障等の開始時間だけでも出力した方が良いと思う。
* コマンドライン引数の取り方をもう少し工夫するべきだった。  
現状では、デフォルトで`N=20, m=2, t=30`を入れているにも関わらず、tのみを変更したくてもできない。  
引数なし、Nのみ、N,m,tの全てを指定のいずれかしかできない。
